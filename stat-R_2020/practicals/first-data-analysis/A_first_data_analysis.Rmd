---
title: "A first data analysis with R -- descriptive statistics, statistical tests"
author: "Claire Vandiedonck & Jacques van Helden"
date: "`r Sys.Date()`"
output:
  html_document:
    self_contained: no
    code_folding: hide
    fig_caption: yes
    fig_height: 6
    fig_width: 7
    highlight: tango
    incremental: no
    keep_md: yes
    smaller: yes
    theme: cerulean
    toc: yes
    toc_depth: 3
    toc_float: yes
    widescreen: yes
  beamer_presentation:
    colortheme: dolphin
    fig_caption: yes
    fig_height: 6
    fig_width: 7
    fonttheme: structurebold
    highlight: tango
    incremental: no
    keep_tex: no
    slide_level: 2
    theme: Montpellier
    toc: yes
  pdf_document:
    fig_caption: yes
    highlight: zenburn
    toc: yes
    toc_depth: 3
  revealjs::revealjs_presentation:
    theme: night
    transition: none
    self_contained: no
    code_folding: hide
    css: ../../slides.css
  slidy_presentation:
    font_adjustment: 0   ## set to negative/positive values for smaller/bigger fonts
    duration: 45
    self_contained: no
    code_folding: hide
    fig_caption: yes
    fig_height: 6
    fig_width: 7
    highlight: tango
    incremental: no
    keep_md: yes
    smaller: yes
    theme: cerulean
    toc: yes
    widescreen: yes
  ioslides_presentation:
    self_contained: no
    code_folding: hide
    css: ../../slides.css
    fig_caption: yes
    fig_height: 6
    fig_width: 7
    highlight: tango
    smaller: yes
    toc: yes
    widescreen: yes
font-import: http://fonts.googleapis.com/css?family=Risque
subtitle: DUBii -- Statistics with R
font-family: Garamond
transition: linear
---

```{r include=FALSE, echo=FALSE, eval=TRUE}
## Install knitr package if required
if (!require(knitr)) {
  message("Installing missing package: knitr")
  install.packages("knitr")
}
library(knitr)

options(width = 300)
knitr::opts_chunk$set(
  fig.width = 7, fig.height = 5, 
  out.width = "80%",
  fig.align = "center", 
  fig.path = "figures/data-structures_",
  size = "tiny", 
  echo = TRUE, 
  eval = TRUE, 
  warning = FALSE, 
  message = FALSE, 
  results = TRUE, 
  comment = "")
# knitr::asis_output("\\footnotesize")
```



# Objectifs

Ce tutoriel doit vous faire voir comment représenter et analyser des variables qualitatives et quantitatives, et effectuer les principaux tests statistiques.

Le jeu de données `diabdata` est extrait d'une cohorte de patients diabétiques de type 2 suivis par le Dr Louis Potier à l'hopital Bichat. Il comporte des informations morphométriques (taille, poids) et biologiques (lipides sériques). Il inclut 1732 patients. 



#### Solutions

En cas d'urgence poussez sur **Code** pour révéler la solution.


## 1. Importation des données

Le fichier a importé s'appelle `diabdata.txt`. Il est présent dans le répertoire `/shared/projects/dubii2020/data/module3/seance2/`

Ouvrez le d'abord dans un éditeur de texte pour voir comment il est structuré.
Importez-le dans votre session R ouverte dans votre répertoire de travail.
Attention à la décimale!

**Fonctions : ** `setwd(),read.table(), str(), head(), tail()`


```{r solution_1}
#setwd("~")
#"/shared/projects/dubii2020/data/module3/seance2/"
info_samples <- read.table("diabdata.txt", header=TRUE, sep=";", dec = "," , stringsAsFactors = FALSE)
```

Regardez la structure de l'objet importé pour vérifier son format. Il s'agit d'un dataframe. Affichez également les premières lignes puis les dernières lignes de ce dataframe.

```{r solution_2}
str(info_samples)
head(info_samples)
tail(info_samples)
```

## 2. Statistiques descriptives des données

### 2.1 L'identifiant

Que pensez-vous de l'identifiant des sujets? S'agit-il d'une variable qualitative ou quantitative?
Si nécessaire, transformez le type de données de cette variable `ìdentifiant` pour qu'il s'agisse d'une chaîne de caractères et vérifiez le résultat.

**Fonctions : ** `as.character(), str()`

```{r solution_3}
info_samples$identifiant <- as.character(info_samples$identifiant)
str(info_samples)
```

## 2.2 Description des variables qualtitatives

Quelles sont les valeurs possibles des variables qualitatives?

```{r solution_4}
unique(info_samples$genre)
unique(info_samples$origine)
unique(info_samples$tabac)
```


#Combien d'occurences observe-t-on pour chaque valeur de ces varaibles?'
```{r solution_5}
table(info_samples$genre)
table(info_samples$tabac)
table(info_samples$origine)
```



