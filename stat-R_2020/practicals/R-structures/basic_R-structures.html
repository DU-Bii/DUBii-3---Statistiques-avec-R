<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Claire Vandiedonck &amp; Jacques van Helden" />

<meta name="date" content="2020-03-10" />

<title>Basic data structures in R – matrices, data frames and lists</title>

<script src="basic_R-structures_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="basic_R-structures_files/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="basic_R-structures_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="basic_R-structures_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="basic_R-structures_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="basic_R-structures_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="basic_R-structures_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="basic_R-structures_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="basic_R-structures_files/navigation-1.1/tabsets.js"></script>
<script src="basic_R-structures_files/navigation-1.1/codefolding.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Basic data structures in R – matrices, data frames and lists</h1>
<h3 class="subtitle"><em>DUBii – Statistics with R</em></h3>
<h4 class="author"><em>Claire Vandiedonck &amp; Jacques van Helden</em></h4>
<h4 class="date"><em>2020-03-10</em></h4>

</div>


<div id="exercice-1" class="section level2">
<h2>Exercice 1</h2>
<ul>
<li><p>Créez la matrice identité <code>matIdentite</code> de dimension 10 lignes x 10 colonnes contenant uniquement le chiffre 0. Puis remplacez uniquement les valeurs de la diagonale par le chiffre <span class="math inline">\(1\)</span>. Imprimez la matrice à l’écran.</p></li>
<li><p>Créez une matrice <code>matAleatoire</code> contenant des valeurs tirées aléatoirement de dimension 10 lignes x 10 colonnes, dont les éléments suivent une loi normale de moyenne 0 et de variance <span class="math inline">\(5\)</span>. Imprimez la matrice à l’écran en arrondissant à 2 décimales. <strong>Fonctions recommandées :</strong> <code>matrix()</code>, <code>diag()</code>, <code>print()</code>, rnorm()<code>,</code>round()`</p></li>
</ul>
<div id="solutions" class="section level3">
<h3>Solutions</h3>
<p>En cas d’urgence poussez sur <strong>Code</strong> pour révéler la solution.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">matIdentite &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">0</span>, <span class="dt">ncol =</span> <span class="dv">10</span>, <span class="dt">nrow =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">diag</span>(matIdentite) &lt;-<span class="st"> </span><span class="dv">1</span> <span class="co">#diag() retourne un vecteur dont on peut remplacer les valeurs 0 par 1</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">print</span>(matIdentite)</a></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    0    0    0    0    0    0    0    0     0
 [2,]    0    1    0    0    0    0    0    0    0     0
 [3,]    0    0    1    0    0    0    0    0    0     0
 [4,]    0    0    0    1    0    0    0    0    0     0
 [5,]    0    0    0    0    1    0    0    0    0     0
 [6,]    0    0    0    0    0    1    0    0    0     0
 [7,]    0    0    0    0    0    0    1    0    0     0
 [8,]    0    0    0    0    0    0    0    1    0     0
 [9,]    0    0    0    0    0    0    0    0    1     0
[10,]    0    0    0    0    0    0    0    0    0     1</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&quot;2 variantes plus efficaces pour creer la matrice : </span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>2 variantes plus efficaces pour creer la matrice : </code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&quot;------variante 1:</span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>------variante 1:</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">diag</span>(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">10</span>)</a></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    0    0    0    0    0    0    0    0     0
 [2,]    0    1    0    0    0    0    0    0    0     0
 [3,]    0    0    1    0    0    0    0    0    0     0
 [4,]    0    0    0    1    0    0    0    0    0     0
 [5,]    0    0    0    0    1    0    0    0    0     0
 [6,]    0    0    0    0    0    1    0    0    0     0
 [7,]    0    0    0    0    0    0    1    0    0     0
 [8,]    0    0    0    0    0    0    0    1    0     0
 [9,]    0    0    0    0    0    0    0    0    1     0
[10,]    0    0    0    0    0    0    0    0    0     1</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&quot;------variante 2:</span><span class="ch">\n</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>------variante 2:</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">diag</span>(<span class="dv">10</span>)<span class="co"># en fait, par defaut, si on n&#39;utilise qu&#39;un seul argument dans la fonction diag(), la commande retourne une matrice de 0 sauf pour la diagonale contenant des 1</span></a></code></pre></div>
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    0    0    0    0    0    0    0    0     0
 [2,]    0    1    0    0    0    0    0    0    0     0
 [3,]    0    0    1    0    0    0    0    0    0     0
 [4,]    0    0    0    1    0    0    0    0    0     0
 [5,]    0    0    0    0    1    0    0    0    0     0
 [6,]    0    0    0    0    0    1    0    0    0     0
 [7,]    0    0    0    0    0    0    1    0    0     0
 [8,]    0    0    0    0    0    0    0    1    0     0
 [9,]    0    0    0    0    0    0    0    0    1     0
[10,]    0    0    0    0    0    0    0    0    0     1</code></pre>
<div id="matrice-de-nombres-aleatoires" class="section level4">
<h4>Matrice de nombres aléatoires</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co">## Generate a 10x10 matrix with random normal numbers</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">matAleatoire &lt;-<span class="st"> </span><span class="kw">matrix</span>(</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="dt">nrow =</span> <span class="dv">10</span>, </a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  <span class="dt">ncol =</span> <span class="dv">10</span>, </a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  <span class="dt">data =</span> <span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">100</span>, </a>
<a class="sourceLine" id="cb13-6" data-line-number="6">               <span class="dt">mean =</span> <span class="dv">0</span>, </a>
<a class="sourceLine" id="cb13-7" data-line-number="7">               <span class="dt">sd =</span> <span class="kw">sqrt</span>(<span class="dv">5</span>)))</a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co"># as long as you specify the arguments, you may change the order to pass the arguments to the function </span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">## Print the results rounded at 2 decimals</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="kw">print</span>(<span class="kw">round</span>(matAleatoire, <span class="dt">digits =</span> <span class="dv">2</span>))</a></code></pre></div>
<pre><code>       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]  [,9] [,10]
 [1,]  1.17 -0.69  1.49 -1.15 -0.74  0.09 -0.12 -0.73  3.15  1.62
 [2,] -0.14 -0.62  0.12  1.84  0.58 -5.61 -0.43  0.98 -3.09 -0.70
 [3,]  1.21 -0.90 -0.34 -0.10  0.75  3.40 -1.70 -1.45  3.90 -2.09
 [4,]  4.14 -5.63 -3.04  2.09 -0.31  2.27 -1.54 -3.57  2.90  1.32
 [5,] -2.06 -1.22 -3.48 -1.85  2.36 -1.97  3.29 -2.47 -2.67 -2.42
 [6,] -1.07  2.71  0.08 -3.76  1.57  2.26  2.25 -0.19  0.95 -1.82
 [7,] -3.69 -0.52  0.39 -1.61 -2.67  0.05  1.68  0.88 -3.16 -0.41
 [8,] -2.87  2.55  1.93  2.21 -4.12  0.31 -4.23 -4.08  0.34  1.33
 [9,]  2.43 -1.56 -0.20  1.39  3.31 -2.11 -1.72  0.68 -2.57  1.14
[10,]  4.04 -1.67 -3.39  2.12 -0.24  1.17  1.13  2.70 -1.11 -0.31</code></pre>
</div>
</div>
</div>
<div id="exercice-2" class="section level2">
<h2>Exercice 2</h2>
<div id="exercice-2.1" class="section level3">
<h3>Exercice 2.1</h3>
<p>Créez deux vecteurs aléatoires nommés <code>x1</code> et <code>x2</code>, contenant chacun <span class="math inline">\(n = 10.000\)</span> valeurs aléatoires respectivement compatibles:</p>
<ol style="list-style-type: lower-alpha">
<li>avec une loi normale centrée réduite pour <code>x1</code>;</li>
<li>avec une loi uniforme définie sur l’intervalle <span class="math inline">\([0, 10]\)</span> pour <code>x2</code>.</li>
</ol>
<p>Vérifiez la distribution empirique de ces échantillons en dessinant des histogrammes.</p>
<p>Vérifiez si les paramètres de vos échantillons aléatoires correspondent à vos attentes (et à leur <em>espérance statistique</em>).</p>
<p><strong>Fonctions recommandées :</strong> <code>rnorm()</code>, <code>runif()</code>, <code>cbind()</code>, <code>rbind()</code>, <code>dim()</code>, <code>mean()</code>, <code>var()</code>, <code>min()</code>, <code>max()</code>, <code>summary()</code>, <code>hist()</code>, <code>summary</code>…</p>
</div>
<div id="solutions-1" class="section level3">
<h3>Solutions</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">10000</span> <span class="co">## define vector sizes</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">x1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> n, <span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="dv">1</span>) <span class="co">## normal random</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">x2 &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> n, <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">10</span>) <span class="co">## uniform random </span></a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">hist</span>(<span class="dt">x =</span> x1, <span class="dt">breaks =</span> <span class="dv">100</span>)</a></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/data-structures_rnorm_hist_simple-1.png" alt="(too) simple istogram of normally distributed random numbers." width="60%" />
<p class="caption">
(too) simple istogram of normally distributed random numbers.
</p>
</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">hist</span>(<span class="dt">x =</span> x1, <span class="dt">breaks =</span> <span class="dv">100</span>, </a>
<a class="sourceLine" id="cb17-2" data-line-number="2">     <span class="dt">las =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb17-3" data-line-number="3">     <span class="dt">col =</span> <span class="st">&quot;palegreen&quot;</span>,</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">     <span class="dt">main =</span> <span class="st">&quot;Random normal numbers&quot;</span>,</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">     <span class="dt">xlab =</span> <span class="st">&quot;Value&quot;</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6">     )</a></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/data-structures_rnorm_hist-1.png" alt="Histogram of normally distributed random numbers. " width="60%" />
<p class="caption">
Histogram of normally distributed random numbers.
</p>
</div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">hist</span>(<span class="dt">x =</span> x2, <span class="dt">breaks =</span> <span class="dv">10</span>, </a>
<a class="sourceLine" id="cb18-2" data-line-number="2">     <span class="dt">las =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb18-3" data-line-number="3">     <span class="dt">col =</span> <span class="st">&quot;cyan&quot;</span>,</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">     <span class="dt">main =</span> <span class="st">&quot;Uniformly distributed random numbers&quot;</span>,</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">     <span class="dt">xlab =</span> <span class="st">&quot;Value&quot;</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6">     )</a></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/data-structures_runif_hist-1.png" alt="Histogram of uniformly distributed random numbers. " width="60%" />
<p class="caption">
Histogram of uniformly distributed random numbers.
</p>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">summary</span>(x1)</a></code></pre></div>
<pre><code>     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-4.197330 -0.668833 -0.016913 -0.006186  0.663910  3.813476 </code></pre>
</div>
<div id="exercice-2.2" class="section level3">
<h3>Exercice 2.2</h3>
<p>Créez une matrice <code>m1</code> qui contient les 10 premières valeurs de <code>x1</code> (colonne 1 de <code>m1</code>) et les 10 dernières valeurs de <code>x2</code> (colonne 2 de <code>m1</code>). Verifiez qu’il s’agit bien d’une matrice et affichez ses dimensions.</p>
<p><strong>Fonctions recommandées :</strong> <code>matrix()</code>, <code>class()</code>, <code>dim()</code>, <code>cbind()</code>,…</p>
<div id="solution" class="section level4">
<h4>Solution</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co">## Prepare an empty matrix</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">m1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3"></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co">## Assign values to the first column</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">m1[, <span class="dv">1</span>] &lt;-<span class="st"> </span><span class="kw">head</span>(<span class="dt">x =</span> x1, <span class="dt">n =</span> <span class="dv">10</span>) <span class="co">## equivalent to m1[, 1] &lt;- x1[1:10]</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="co">## Assign values to the second column</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8">m1[, <span class="dv">2</span>] &lt;-<span class="st"> </span><span class="kw">tail</span>(<span class="dt">x =</span> x1, <span class="dt">n =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb21-9" data-line-number="9"></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="co">## Print the result rounded to 3 decimals</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11"><span class="kw">print</span>(<span class="kw">round</span>(m1, <span class="dt">digits =</span> <span class="dv">3</span>))</a></code></pre></div>
<pre><code>        [,1]   [,2]
 [1,]  0.854  0.400
 [2,]  1.822  1.081
 [3,]  1.706 -1.198
 [4,] -0.601 -0.302
 [5,]  0.323 -0.033
 [6,] -0.307  0.833
 [7,] -1.463 -0.002
 [8,]  0.860 -1.645
 [9,]  0.075  1.785
[10,] -1.355 -0.580</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co">## Check it is a matrix and print its dimensions</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">class</span>(m1)</a></code></pre></div>
<pre><code>[1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">dim</span>(m1)</a></code></pre></div>
<pre><code>[1] 10  2</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co">## Alternatively and more quickly you may use the function cbind() to directly generate the matrix m1 in one command line</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">m1 &lt;-<span class="st"> </span><span class="kw">cbind</span>(x1[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], x2[<span class="dv">91</span><span class="op">:</span><span class="dv">100</span>])</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="kw">print</span>(<span class="kw">round</span>(m1, <span class="dt">digits =</span> <span class="dv">3</span>))</a></code></pre></div>
<pre><code>        [,1]  [,2]
 [1,]  0.854 5.205
 [2,]  1.822 0.938
 [3,]  1.706 2.792
 [4,] -0.601 1.177
 [5,]  0.323 1.612
 [6,] -0.307 5.782
 [7,] -1.463 3.122
 [8,]  0.860 2.120
 [9,]  0.075 4.631
[10,] -1.355 3.456</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">class</span>(m1)</a></code></pre></div>
<pre><code>[1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">dim</span>(m1)</a></code></pre></div>
<pre><code>[1] 10  2</code></pre>
</div>
</div>
<div id="exercice-2.3" class="section level3">
<h3>Exercice 2.3</h3>
<p>Créez une matrice <code>m2</code> qui contient</p>
<ul>
<li>les 16ème, 51ème, 79ème, 31ème et 27ème valeurs de <code>x1</code> (colonne 1 de <code>m2</code>) et</li>
<li>les 30ème, 70ème, 12ème, 49ème et 45ème de <code>x2</code> (colonne 2 de <code>m2</code>).</li>
</ul>
<p><strong>Fonctions recommandées :</strong> <code>matrix()</code>, <code>cbind()</code>,…</p>
<div id="solutions-2" class="section level4">
<h4>Solutions</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">m2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> <span class="dv">5</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="co">## Assign values</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4">m2[, <span class="dv">1</span>] &lt;-<span class="st"> </span>x1[<span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">51</span>, <span class="dv">79</span>, <span class="dv">31</span>, <span class="dv">27</span>)]</a>
<a class="sourceLine" id="cb33-5" data-line-number="5">m2[, <span class="dv">2</span>] &lt;-<span class="st"> </span>x2[<span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">70</span>, <span class="dv">12</span>, <span class="dv">49</span>, <span class="dv">45</span>)]</a>
<a class="sourceLine" id="cb33-6" data-line-number="6"></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="co">## Print the result</span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="kw">print</span>(m2)</a></code></pre></div>
<pre><code>            [,1]      [,2]
[1,] -0.50025450 7.0688692
[2,]  0.74241398 0.8427670
[3,] -0.07371413 3.8186685
[4,]  0.16255732 0.7407108
[5,]  1.13301686 8.4405706</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co">## or more directly using the cbind() function without creating an empty matrix first</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">m2 &lt;-<span class="st"> </span><span class="kw">cbind</span>(x1[<span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">51</span>, <span class="dv">79</span>, <span class="dv">31</span>, <span class="dv">27</span>)], x2[<span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">70</span>, <span class="dv">12</span>, <span class="dv">49</span>, <span class="dv">45</span>)])</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw">print</span>(m2)</a></code></pre></div>
<pre><code>            [,1]      [,2]
[1,] -0.50025450 7.0688692
[2,]  0.74241398 0.8427670
[3,] -0.07371413 3.8186685
[4,]  0.16255732 0.7407108
[5,]  1.13301686 8.4405706</code></pre>
</div>
</div>
<div id="exercice-2.4" class="section level3">
<h3>Exercice 2.4</h3>
<p>Concaténez à la suite (l’une en dessous-de l’autre) les matrices <code>m1</code> et <code>m2</code>, afin d’obtenir une nouvelle matrice <code>m3</code>. Quelles sont les dimensions (nombre de lignes et de colonnes) de <code>m3</code> ?</p>
<p><strong>Fonctions recommandées :</strong> <code>rbind()</code>, <code>cbind()</code>, <code>dim()</code>, <code>ncol()</code>, <code>nrow()</code>, <code>str()</code></p>
<div id="solutions-3" class="section level4">
<h4>Solutions</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">m3 &lt;-<span class="st"> </span><span class="kw">rbind</span>(m1, m2)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw">print</span>(m3)</a></code></pre></div>
<pre><code>             [,1]      [,2]
 [1,]  0.85401104 5.2049493
 [2,]  1.82236001 0.9377936
 [3,]  1.70591885 2.7915833
 [4,] -0.60052053 1.1773477
 [5,]  0.32278438 1.6124148
 [6,] -0.30670307 5.7817377
 [7,] -1.46251209 3.1218612
 [8,]  0.86032918 2.1195933
 [9,]  0.07502485 4.6314595
[10,] -1.35545445 3.4559670
[11,] -0.50025450 7.0688692
[12,]  0.74241398 0.8427670
[13,] -0.07371413 3.8186685
[14,]  0.16255732 0.7407108
[15,]  1.13301686 8.4405706</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">dim</span>(m3)</a></code></pre></div>
<pre><code>[1] 15  2</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">nrow</span>(m3)</a></code></pre></div>
<pre><code>[1] 15</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">ncol</span>(m3)</a></code></pre></div>
<pre><code>[1] 2</code></pre>
</div>
<div id="pour-aller-plus-loin" class="section level4">
<h4>pour aller plus loin:</h4>
<p>Les operateurs classiques (+, -, <em>) font des operations terme a terme si les deux matrices ont la meme taille, par exemple: <code>m1 + rbind(m2,m2)</code> alors que <code>m1+m2</code> retourne une erreur Pour faire du calcul matriciel, on utilise un operateur specifique <code>%*%</code> pour multiplier. La premiere matrice a autant de lignes qu’il y a de colonnes dans la 2eme matrice. La matrice resultante a autant de lignes que la 1ere matrice et de colonnes que la 2eme matrice. </em>Quelques exemples:*</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">m4 &lt;-<span class="st"> </span>m1 <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(m2)<span class="co"># m1 avec la transposee de m2 qui a 2 lignes et 5 colonnes</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="kw">dim</span>(m4)</a></code></pre></div>
<pre><code>[1] 10  5</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">m5 &lt;-<span class="st"> </span>m1 <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(m1)<span class="co"># m1 avec sa propre tranposee</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="kw">dim</span>(m5)</a></code></pre></div>
<pre><code>[1] 10 10</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">m6 &lt;-<span class="st"> </span><span class="kw">t</span>(m1) <span class="op">%*%</span><span class="st"> </span>m1 <span class="co"># ou l&#39;inverse! Pas de commutativite sur ces calculs!</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="kw">dim</span>(m6)</a></code></pre></div>
<pre><code>[1] 2 2</code></pre>
</div>
</div>
</div>
<div id="exercice-3" class="section level2">
<h2>Exercice 3</h2>
<p><strong>Fonctions recommandées :</strong></p>
<p>-<code>data(WorldPhones)</code>, - <code>class()</code>, - <code>dim()</code>, - <code>rownames()</code>, - <code>colnames()</code>, - <code>str()</code>, - <code>sum()</code>, - <code>apply()</code>, - <code>names()</code>, - <code>max()</code>, - <code>min()</code>, - <code>which()</code>, - <code>which.max()</code>, - <code>which.min()</code> - …</p>
<div id="exercice-3.1" class="section level3">
<h3>Exercice 3.1</h3>
<p>Importez dans votre session R les données nommées <code>WorldPhones</code> (pré-existantes dans R). Affichez le contenu de la variable <code>WorldPhones</code>. Quelle est sa structure et sa classe ?</p>
</div>
<div id="exercice-3.2" class="section level3">
<h3>Exercice 3.2</h3>
<p>Calculez le nombre total de numéros de téléphone attribués :</p>
<ol style="list-style-type: lower-alpha">
<li>au cours des différentes années (vecteur <code>nbrTelAn</code>)</li>
<li>pour chaque continent (vecteur <code>nbrTelCont</code>)</li>
</ol>
</div>
<div id="exercice-3.3" class="section level3">
<h3>Exercice 3.3</h3>
<p>Quel est le continent qui a le plus / moins de numéros attribués ?</p>
</div>
<div id="exercice-3.4" class="section level3">
<h3>Exercice 3.4</h3>
<p>Dans combien de continents y a-t-il plus de : 20.000, 50.000 et 200.000 numéros de téléphone attribués ?</p>
</div>
<div id="solutions-exercice-3" class="section level3">
<h3>Solutions exercice 3</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="kw">data</span>(<span class="st">&quot;WorldPhones&quot;</span>)</a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="kw">print</span>(WorldPhones)</a></code></pre></div>
<pre><code>     N.Amer Europe Asia S.Amer Oceania Africa Mid.Amer
1951  45939  21574 2876   1815    1646     89      555
1956  60423  29990 4708   2568    2366   1411      733
1957  64721  32510 5230   2695    2526   1546      773
1958  68484  35218 6662   2845    2691   1663      836
1959  71799  37598 6856   3000    2868   1769      911
1960  76036  40341 8220   3145    3054   1905     1008
1961  79831  43173 9053   3338    3224   2005     1076</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="kw">class</span>(WorldPhones)</a></code></pre></div>
<pre><code>[1] &quot;matrix&quot;</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw">dim</span>(WorldPhones)</a></code></pre></div>
<pre><code>[1] 7 7</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">rownames</span>(WorldPhones)</a></code></pre></div>
<pre><code>[1] &quot;1951&quot; &quot;1956&quot; &quot;1957&quot; &quot;1958&quot; &quot;1959&quot; &quot;1960&quot; &quot;1961&quot;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw">colnames</span>(WorldPhones)</a></code></pre></div>
<pre><code>[1] &quot;N.Amer&quot;   &quot;Europe&quot;   &quot;Asia&quot;     &quot;S.Amer&quot;   &quot;Oceania&quot;  &quot;Africa&quot;   &quot;Mid.Amer&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="co"># nombre d&#39;appels pour le continent 1</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="kw">sum</span>(WorldPhones[,<span class="dv">1</span>])</a></code></pre></div>
<pre><code>[1] 467233</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="co"># nombre d&#39;appels pour le continent 2</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2"><span class="kw">sum</span>(WorldPhones[,<span class="dv">2</span>])</a></code></pre></div>
<pre><code>[1] 240404</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="co"># etc.</span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2"></a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="co"># pour aller plus rapidement :</span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="co"># repetition de la commande sum() en ligne = marginal sums per year</span></a>
<a class="sourceLine" id="cb65-5" data-line-number="5">nbrTelAn &lt;-<span class="st"> </span><span class="kw">apply</span>(WorldPhones, <span class="dv">1</span>, sum)</a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="kw">print</span>(nbrTelAn)</a></code></pre></div>
<pre><code>  1951   1956   1957   1958   1959   1960   1961 
 74494 102199 110001 118399 124801 133709 141700 </code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="co"># repetition de la commande sum() en colonne =  marginal sums per continent</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2">nbrTelCont &lt;-<span class="st"> </span><span class="kw">apply</span>(WorldPhones, <span class="dv">2</span>, sum)</a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="kw">print</span>(nbrTelCont)</a></code></pre></div>
<pre><code>  N.Amer   Europe     Asia   S.Amer  Oceania   Africa Mid.Amer 
  467233   240404    43605    19406    18375    10388     5892 </code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="co"># continent avec le plus de numeros</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="kw">names</span>(nbrTelCont)[<span class="kw">which</span>(nbrTelCont <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(nbrTelCont))]</a></code></pre></div>
<pre><code>[1] &quot;N.Amer&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="co"># continent avec le moins de numeros</span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="kw">names</span>(nbrTelCont)[<span class="kw">which</span>(nbrTelCont <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(nbrTelCont))]</a></code></pre></div>
<pre><code>[1] &quot;Mid.Amer&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="co"># ou plus simplement avec la commande which.max() ou which.min()</span></a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="kw">names</span>(<span class="kw">which.max</span>(nbrTelCont))</a></code></pre></div>
<pre><code>[1] &quot;N.Amer&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw">names</span>(<span class="kw">which.min</span>(nbrTelCont))</a></code></pre></div>
<pre><code>[1] &quot;Mid.Amer&quot;</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb77-2" data-line-number="2"></a>
<a class="sourceLine" id="cb77-3" data-line-number="3"><span class="co">## Another way: with head and tail</span></a>
<a class="sourceLine" id="cb77-4" data-line-number="4"><span class="kw">tail</span>(<span class="kw">sort</span>(nbrTelCont), <span class="dt">n =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>N.Amer 
467233 </code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="kw">head</span>(<span class="kw">sort</span>(nbrTelCont), <span class="dt">n =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>Mid.Amer 
    5892 </code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="kw">sum</span>(nbrTelCont <span class="op">&gt;</span><span class="st"> </span><span class="dv">20000</span>)</a></code></pre></div>
<pre><code>[1] 3</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">sum</span>(nbrTelCont <span class="op">&gt;</span><span class="st"> </span><span class="dv">50000</span>)</a></code></pre></div>
<pre><code>[1] 2</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="kw">sum</span>(nbrTelCont <span class="op">&gt;</span><span class="st"> </span><span class="dv">200000</span>)</a></code></pre></div>
<pre><code>[1] 2</code></pre>
</div>
</div>
<div id="exercice-4" class="section level2">
<h2>Exercice 4</h2>
<ul>
<li><p>Téléchargez le fichier <a href="https://du-bii.github.io/module-3-Stat-R/stat-R_2020/data/minitable1.txt">minitable1.txt</a>. Il est également disponible dans <code>/shared/projects/dubii2020/data/module3/seance1/</code></p></li>
<li><p>Ouvrez-le avec un éditeur de texte ou un calculateur pour identifier sa structure et les cases non remplies.</p></li>
<li><p>Importez le dans R dans un objet <code>test.data</code> et vérifiez sa structure et son contenu.</p></li>
<li><p>Comment les données manquantes ont-elles été lues ? Remplacez-les par NA si elles n’ont pas été lues comme une donnée manquante.</p></li>
<li><p>Déplacez la colonne 1 en dernière colonne.</p></li>
<li><p>Renommez les colonnes colA, colB, colC, colD, colE… dans le nouvel ordre obtenu.</p></li>
<li><p>Supprimez la deuxième ligne.</p></li>
<li><p>Ajoutez une colonne de valeurs numériques obtenues en divisant les valeurs de la <code>colE</code> par les valeurs de la <code>colA</code>.</p></li>
<li><p>Dans la <code>colC</code>, remplacez les valeurs <code>toto</code> par <code>tata</code> et vice-versa.</p></li>
<li><p>Dans la <code>colC</code>, remplacez les lettres <span class="math inline">\(t\)</span> par des <span class="math inline">\(m\)</span>.</p></li>
<li><p>Triez le dataframe par ordre croissant de la colonne <code>colE</code>.</p></li>
<li><p>Convertissez la colonne <code>colB</code> en valeurs numériques.</p></li>
<li><p>Dans un vecteur sumcolA, calculer la somme de la <code>colA</code>.</p></li>
<li><p>Faites un sous-dataframe <code>test.data2</code> contenant les lignes pour lesquelles les éléments de la <code>colE</code> sont inférieurs ou égaux à ceux de la <code>colA</code>.</p></li>
<li><p>Sauvegardez le data frame <code>test.data2</code> en fichier texte avec des <code>;</code> comme séparateurs de champs.</p></li>
</ul>
<p><strong>Fonctions recommandées dans l’ordre :</strong> <code>read.table()</code>, <code>str()</code>, <code>is.na()</code>, <code>paste()</code>, <code>gsub()</code>, <code>order()</code>, <code>as.integer()</code>, <code>sum()</code>, <code>subset()</code>, <code>write.table()</code></p>
<div id="solutions-exercice-4" class="section level3">
<h3>Solutions exercice 4</h3>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">test.data &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;/shared/projects/dubii2020/data/module3/seance1/minitable1.txt&quot;</span>,</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">                        <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb87-3" data-line-number="3">                        <span class="dt">header =</span> T,</a>
<a class="sourceLine" id="cb87-4" data-line-number="4">                        <span class="dt">stringsAsFactors =</span> F,</a>
<a class="sourceLine" id="cb87-5" data-line-number="5">                        <span class="dt">fill =</span> T)</a>
<a class="sourceLine" id="cb87-6" data-line-number="6"><span class="kw">str</span>(test.data)</a></code></pre></div>
<pre><code>&#39;data.frame&#39;:   6 obs. of  5 variables:
 $ colonne1: int  3 2 7 10 2 1
 $ colonne2: num  2.2 7.3 NA 10.1 8.9 3.2
 $ colonne3: logi  TRUE TRUE FALSE TRUE TRUE FALSE
 $ colonne4: chr  &quot;toto&quot; &quot;toto&quot; &quot;tata&quot; &quot;titi&quot; ...
 $ colonne5: chr  &quot;oui&quot; &quot;non&quot; &quot;&quot; &quot;oui&quot; ...</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1">test.data</a></code></pre></div>
<pre><code>  colonne1 colonne2 colonne3 colonne4 colonne5
1        3      2.2     TRUE     toto      oui
2        2      7.3     TRUE     toto      non
3        7       NA    FALSE     tata         
4       10     10.1     TRUE     titi      oui
5        2      8.9     TRUE     toto      oui
6        1      3.2    FALSE     tutu      non</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="kw">is.na</span>(test.data) <span class="co"># la case [3,5] n&#39;est pas lue comme une donnee manquante -&gt; cf. help de read.table() pour l&#39;argument na.strings de la fonction read.table(): par defaut, seules les donnees &quot;NA&quot; d&#39;un vecteur de caracteres sont considerees comme des donnees manquantes, alors que pour les logical, integer, numeric and complex fields les cases vides sont bien lues comme des donnees manquantes</span></a></code></pre></div>
<pre><code>     colonne1 colonne2 colonne3 colonne4 colonne5
[1,]    FALSE    FALSE    FALSE    FALSE    FALSE
[2,]    FALSE    FALSE    FALSE    FALSE    FALSE
[3,]    FALSE     TRUE    FALSE    FALSE    FALSE
[4,]    FALSE    FALSE    FALSE    FALSE    FALSE
[5,]    FALSE    FALSE    FALSE    FALSE    FALSE
[6,]    FALSE    FALSE    FALSE    FALSE    FALSE</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"> <span class="co"># pour lire la case [3,5] comme une donnee manquante, on aurait pu taper la commande:</span></a>
<a class="sourceLine" id="cb93-2" data-line-number="2"><span class="co">#test.data &lt;- read.table(&quot;test.txt&quot;,sep=&quot;\t&quot;, header=T, stringsAsFactors=F, fill=T, na.strings=&quot;&quot;)</span></a>
<a class="sourceLine" id="cb93-3" data-line-number="3"></a>
<a class="sourceLine" id="cb93-4" data-line-number="4">test.data[<span class="dv">3</span>,<span class="dv">5</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb93-5" data-line-number="5"></a>
<a class="sourceLine" id="cb93-6" data-line-number="6">test.data &lt;-<span class="st"> </span>test.data[,<span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>,<span class="dv">1</span>)]</a>
<a class="sourceLine" id="cb93-7" data-line-number="7"><span class="kw">names</span>(test.data) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;col&quot;</span>, LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">sep =</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb93-8" data-line-number="8">test.data &lt;-<span class="st"> </span>test.data[<span class="op">-</span><span class="dv">2</span>,]</a>
<a class="sourceLine" id="cb93-9" data-line-number="9">test.data<span class="op">$</span>EbyA &lt;-<span class="st"> </span>test.data<span class="op">$</span>colE<span class="op">/</span>test.data<span class="op">$</span>colA</a>
<a class="sourceLine" id="cb93-10" data-line-number="10">test.data[<span class="kw">which</span>(test.data<span class="op">$</span>colC <span class="op">==</span><span class="st"> &quot;toto&quot;</span>),<span class="dv">3</span>] &lt;-<span class="st"> &quot;otot&quot;</span></a>
<a class="sourceLine" id="cb93-11" data-line-number="11">test.data[<span class="kw">which</span>(test.data<span class="op">$</span>colC <span class="op">==</span><span class="st"> &quot;tata&quot;</span>),<span class="dv">3</span>] &lt;-<span class="st"> &quot;toto&quot;</span></a>
<a class="sourceLine" id="cb93-12" data-line-number="12">test.data[<span class="kw">which</span>(test.data<span class="op">$</span>colC <span class="op">==</span><span class="st"> &quot;otot&quot;</span>),<span class="dv">3</span>] &lt;-<span class="st"> &quot;tata&quot;</span></a>
<a class="sourceLine" id="cb93-13" data-line-number="13">test.data<span class="op">$</span>colC &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;t&quot;</span>,<span class="st">&quot;m&quot;</span>,test.data<span class="op">$</span>colC)</a>
<a class="sourceLine" id="cb93-14" data-line-number="14"></a>
<a class="sourceLine" id="cb93-15" data-line-number="15">test.data &lt;-<span class="st"> </span>test.data[<span class="kw">order</span>(test.data<span class="op">$</span>colE),]</a>
<a class="sourceLine" id="cb93-16" data-line-number="16">test.data<span class="op">$</span>colB &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(test.data<span class="op">$</span>colB)</a>
<a class="sourceLine" id="cb93-17" data-line-number="17">sumcolA &lt;-<span class="st"> </span><span class="kw">sum</span>(test.data<span class="op">$</span>colA,<span class="dt">na.rm =</span> T)</a>
<a class="sourceLine" id="cb93-18" data-line-number="18">test.data2 &lt;-<span class="st"> </span><span class="kw">subset</span>(test.data, colE <span class="op">&lt;=</span><span class="st"> </span>colA) <span class="co"># ou test.data2 &lt;- test.data[which(test.data$colE &lt;= test.data$colA),]</span></a>
<a class="sourceLine" id="cb93-19" data-line-number="19"><span class="kw">write.table</span>(test.data2,<span class="dt">file =</span> <span class="st">&quot;test2.txt&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;;&quot;</span>, <span class="dt">col.names =</span> T,<span class="dt">quote =</span> F)</a></code></pre></div>
</div>
</div>
<div id="exercice-5" class="section level2">
<h2>Exercice 5</h2>
<p>Sauvegardez dans une liste <code>session1_list</code> tous les objets créés pendant les exercices 1 à 4 en les mettant dans des sous-listes correspondant à chaque exercice que vous nommerez <code>exo1</code>, <code>exo2</code>, <code>exo3</code> et <code>exo4</code>.</p>
<p><strong>Fonctions recommandées :</strong> <code>list()</code>, <code>names()</code></p>
<div id="solutions-exercice-5" class="section level3">
<h3>Solutions exercice 5:</h3>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1"><span class="kw">ls</span>()<span class="co"># check what is in your environment</span></a></code></pre></div>
<pre><code> [1] &quot;m1&quot;           &quot;m2&quot;           &quot;m3&quot;           &quot;m4&quot;           &quot;m5&quot;           &quot;m6&quot;           &quot;matAleatoire&quot; &quot;matIdentite&quot;  &quot;n&quot;            &quot;nbrTelAn&quot;     &quot;nbrTelCont&quot;   &quot;sumcolA&quot;      &quot;test.data&quot;    &quot;test.data2&quot;   &quot;WorldPhones&quot;  &quot;x1&quot;           &quot;x2&quot;          </code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">session1_list &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb96-2" data-line-number="2"><span class="co">#stepwise for exo1:</span></a>
<a class="sourceLine" id="cb96-3" data-line-number="3">exo1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;matIdentite&quot;</span> =<span class="st"> </span>matIdentite, <span class="st">&quot;matAleatoire&quot;</span> =<span class="st"> </span>matAleatoire)</a>
<a class="sourceLine" id="cb96-4" data-line-number="4">session1_list[[<span class="st">&quot;exo1&quot;</span>]] &lt;-<span class="st"> </span>exo1</a>
<a class="sourceLine" id="cb96-5" data-line-number="5"><span class="co"># or in one command for exo2:</span></a>
<a class="sourceLine" id="cb96-6" data-line-number="6">session1_list[[<span class="st">&quot;exo2&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;x1&quot;</span> =<span class="st"> </span>x1, <span class="st">&quot;x2&quot;</span> =<span class="st"> </span>x2, <span class="st">&quot;m1&quot;</span> =<span class="st"> </span>m1, <span class="st">&quot;m2&quot;</span> =<span class="st"> </span>m2, <span class="st">&quot;m3&quot;</span> =<span class="st"> </span>m3, <span class="st">&quot;m4&quot;</span> =<span class="st"> </span>m4, <span class="st">&quot;m5&quot;</span> =<span class="st"> </span>m5, <span class="st">&quot;m6&quot;</span> =<span class="st"> </span>m6)</a>
<a class="sourceLine" id="cb96-7" data-line-number="7"><span class="co"># you may also add elements to the list one by one, either or not giveing the name directly with different ways:</span></a>
<a class="sourceLine" id="cb96-8" data-line-number="8">session1_list[[<span class="st">&quot;exo3&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;WorlPhones&quot;</span> =<span class="st"> </span>WorldPhones)</a>
<a class="sourceLine" id="cb96-9" data-line-number="9">session1_list[[<span class="dv">3</span>]][[<span class="st">&quot;nbrTelAn&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(nbrTelAn)</a>
<a class="sourceLine" id="cb96-10" data-line-number="10">session1_list[[<span class="dv">3</span>]][<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">list</span>(nbrTelCont)</a>
<a class="sourceLine" id="cb96-11" data-line-number="11"><span class="kw">names</span>(session1_list[[<span class="dv">3</span>]])[<span class="dv">3</span>] &lt;-<span class="st"> &quot;nbrTelCont&quot;</span></a>
<a class="sourceLine" id="cb96-12" data-line-number="12"><span class="co"># or all elements for exo4 and naming it after:</span></a>
<a class="sourceLine" id="cb96-13" data-line-number="13">session1_list[[<span class="dv">4</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;test.data&quot;</span> =<span class="st"> </span>test.data, <span class="st">&quot;sumcolA&quot;</span> =<span class="st"> </span>sumcolA, <span class="st">&quot;test.data2&quot;</span> =<span class="st"> </span>test.data2)</a>
<a class="sourceLine" id="cb96-14" data-line-number="14"><span class="kw">names</span>(session1_list)[<span class="dv">4</span>] &lt;-<span class="st"> &quot;exo4&quot;</span></a></code></pre></div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
